<!-- src/components/base/ThemeToggle.vue -->
<script setup lang="ts">
import { computed } from 'vue';
import { useTheme } from '@/composables/useTheme';
const { theme, setTheme, toggle } = useTheme();
const label = computed(() => (theme.value === 'system' ? 'System' : theme.value === 'dark' ? 'Dark' : 'Light'));
</script>

<template>
  <div class="flex items-center gap-2">
    <!-- ëª¨ë°”ì¼: ì•„ì´ì½˜ë§Œ, sm+: ë¼ë²¨ í‘œì‹œ -->
    <button class="btn-ghost px-2.5 py-2" @click="toggle" :aria-pressed="theme !== 'system'">
      <span v-if="theme === 'dark'">ğŸŒ™</span>
      <span v-else-if="theme === 'light'">â˜€ï¸</span>
      <span v-else>ğŸ–¥ï¸</span>
      <span class="hidden sm:inline ml-1">{{ label }}</span>
    </button>

    <!-- ì„ íƒ ë“œë¡­ë‹¤ìš´ì€ sm ì´ìƒì—ì„œë§Œ ë…¸ì¶œ -->
    <select
      class="input-surface px-3 py-2 hidden sm:inline-block"
      :value="theme"
      @change="setTheme(($event.target as HTMLSelectElement).value as any)"
      aria-label="Theme mode"
    >
      <option value="system">System</option>
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
  </div>
</template>
